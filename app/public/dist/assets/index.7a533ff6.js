var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(t,a,i)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,d=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&r(e,a,t[a]);if(i)for(var a of i(t))s.call(t,a)&&r(e,a,t[a]);return e},n=(e,i)=>t(e,a(i));import{c as o,o as c,r as u,a as p,w as _,b as m,D as h,m as g,d as v,t as w,e as f,f as b,g as x,v as y,p as I,h as U,i as k,j as C,k as S,l as O,n as A}from"./vendor.d8701634.js";const j={setup:e=>(e,t)=>{const a=u("router-view");return c(),o(a)}};const D={name:"TabBar",created(){},methods:{}},T={class:"weui-tabbar"},V=p("p",{class:"weui-tabbar__label qywx-tabbar-item"},"设置",-1),M=p("p",{class:"weui-tabbar__label qywx-tabbar-item"},"登录",-1),N=p("p",{class:"weui-tabbar__label qywx-tabbar-item"},"Demo",-1),J=p("p",{class:"weui-tabbar__label qywx-tabbar-item"},"我的",-1);D.render=function(e,t,a,i,l,s){const r=u("router-link");return c(),o("div",T,[p(r,{to:"/tobdev",class:"weui-tabbar__item","active-class":"weui-bar__item_on"},{default:_((()=>[V])),_:1}),p(r,{to:"/auth",class:"weui-tabbar__item","active-class":"weui-bar__item_on"},{default:_((()=>[M])),_:1}),p(r,{to:"/demo",class:"weui-tabbar__item","active-class":"weui-bar__item_on"},{default:_((()=>[N])),_:1}),p(r,{to:"/user",class:"weui-tabbar__item","active-class":"weui-bar__item_on"},{default:_((()=>[J])),_:1})])};const L={name:"Layout",components:{TabBar:D},created(){},methods:{}},P={class:"weui-tab"},E={class:"container"},R=p("div",{class:"weui-footer"},[p("p",{class:"weui-footer__links"},[p("a",{href:"javascript:",class:"weui-footer__link"},"公众号：ToB Dev")]),p("p",{class:"weui-footer__text"},"Copyright © 2020-xxxx tobdev.com")],-1);L.render=function(e,t,a,i,l,s){const r=u("router-view"),d=u("TabBar");return c(),o("div",P,[p("div",E,[p(r,{"router-view":""})]),R,p(d)])};var z=m({modules:{user:{state:()=>({userToken:null,userInfo:null}),getters:{userInfo:(e,t)=>e.userInfo,userToken:(e,t)=>e.userToken},actions:{async saveUser({commit:e,state:t},a){e("setUserToken",a.token),e("setUserInfo",a)}},mutations:{setUserToken(e,t){e.userToken=t},setUserInfo(e,t){e.userInfo=t}}}},strict:!1,plugins:[]});const q={getItem(e,t){try{let a=window.localStorage.getItem(e);return a?window.JSON.parse(a):t}catch(a){return t}},setItem(e,t={}){window.localStorage.setItem(e,window.JSON.stringify(t))},removeItem(e){window.localStorage.removeItem(e)},clearAllItems(){window.localStorage.clear()}},F={storeApiUrl(e){q.setItem("API_URL",e)},getApiUrl:()=>q.getItem("API_URL",""),storeCorpId(e){q.setItem("CORP_ID",e)},getCorpId:()=>q.getItem("CORP_ID",""),storeAgentId(e){q.setItem("AGENT_ID",e)},getAgentId:()=>q.getItem("AGENT_ID",""),storeAgentSecret(e){q.setItem("SECRET_ID",e)},getAgentSecret:()=>q.getItem("SECRET_ID","")};let B=""==F.getCorpId()?"wwe58c8eb857ded23d":F.getCorpId(),Q=""==F.getApiUrl()?"http://apitest.tobdev.com":F.getApiUrl();const $=h.create({baseURL:Q,timeout:15e3,withCredentials:!1});$.interceptors.request.use((e=>("post"==e.method?(e.data instanceof FormData&&e.data.append("corp_id",B),e.data.corp_id=B):e.params.corp_id=B,console.log(e),e)),(e=>{console.log(e),Promise.reject(e)})),$.interceptors.response.use((e=>{const t=e.data;return 40003===t.code||40004===t.code||40005===t.code||400056===t.code?(Er.push("/auth"),t):t}),(e=>(console.log("err"+e),Promise.reject(e))));const W={name:"Auth",created(){},computed:n(d({},g(["userToken"])),{url:()=>window.location.href}),methods:n(d({},v("login",["login"])),{getOauthUrl(){let e=encodeURI(window.location.protocol+"//"+window.location.host+"/#/callback");var t;(t={oauth_callback:e},$({url:"/h5/oauthUrl",method:"get",params:t})).then((e=>{alert(e.data.oauth_url),window.location.href=e.data.oauth_url}))},getAdminOauthUrl(){let e=encodeURI(window.location.protocol+"//"+window.location.host+"/#/adminCallback");var t;(t={oauth_callback:e},$({url:"/admin/oauthUrl",method:"get",params:t})).then((e=>{alert(e.data.oauth_url),window.location.href=e.data.oauth_url}))},getShcoolOauthUrl(){let e=encodeURI(window.location.protocol+"//"+window.location.host+"/#/schoolCallback");var t;(t={oauth_callback:e},$({url:"/school/oauthUrl",method:"get",params:t})).then((e=>{alert(e.data.oauth_url),window.location.href=e.data.oauth_url}))}})},G={class:"page"},H={class:"page__hd"},X=p("h1",{class:"page__title"}," 身份验证 ",-1),Y=p("p",{class:"page__desc"},"企业微信应用Oauth及非企业微信环境PC网站扫码登录，可自动跳转",-1),K={class:"page__desc"},Z={class:"page__bd page__bd_spacing"},ee={class:"weui-flex"},te={class:"weui-flex__item"},ae={class:"placeholder"},ie={class:"weui-flex"},le={class:"weui-flex__item"},se={class:"placeholder"},re={class:"weui-flex"},de={class:"weui-flex__item"},ne={class:"placeholder"},oe={class:"weui-flex"},ce={class:"weui-flex__item"},ue={class:"placeholder"},pe=b("当前用户已登录，点击查看用户信息");function _e(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null}W.render=function(e,t,a,i,l,s){const r=u("router-link");return c(),o("div",G,[p("div",H,[X,Y,p("p",K,"当前url: "+w(s.url),1)]),p("div",Z,[p("div",ee,[p("div",te,[p("div",ae,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.getOauthUrl&&s.getOauthUrl(...e))},"H5应用OAuth授权登录")])])]),p("div",ie,[p("div",le,[p("div",se,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[2]||(t[2]=(...e)=>s.getAdminOauthUrl&&s.getAdminOauthUrl(...e))},"PC网站扫码OAuth授权登录")])])]),p("div",re,[p("div",de,[p("div",ne,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.getShcoolOauthUrl&&s.getShcoolOauthUrl(...e))},"家校沟通OAuth授权登录")])])]),p("div",oe,[p("div",ce,[p("div",ue,[e.userToken?(c(),o(r,{key:0,"router-link":"",to:"/user",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[pe])),_:1})):f("",!0)])])])])])};const me={name:"AuthCallback",created(){},computed:n(d({},g(["userToken"])),{url:()=>window.location.href}),methods:n(d({},v(["saveUser"])),{getOauthUser(){let e={code:_e("code")};var t;(t=e,$({url:"/h5/oauthUser",method:"get",params:t})).then((e=>{console.log(e,"resres"),this.saveUser(e.data),this.$router.push("/user"),alert(JSON.stringify(e))}))}})},he={class:"page"},ge={class:"page__hd"},ve=p("h1",{class:"page__title"},"授权登录回调",-1),we=p("p",{class:"page__desc"},"授权登录回调获取code,通过code获取用户信息,可获取信息后自动跳转",-1),fe={class:"page__desc"},be={class:"page__bd page__bd_spacing"},xe={class:"weui-flex"},ye={class:"weui-flex__item"},Ie={class:"placeholder"},Ue=p("div",{class:"weui-flex__item"},[p("div",{class:"placeholder"},[p("a",{href:"javascript:"},"文档")])],-1);me.render=function(e,t,a,i,l,s){return c(),o("div",he,[p("div",ge,[ve,we,p("p",fe,"当前url: "+w(s.url),1)]),p("div",be,[p("div",xe,[p("div",ye,[p("div",Ie,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.getOauthUser&&s.getOauthUser(...e))},"通过code获取用户")])]),Ue])])])};const ke={name:"AdminCallback",created(){},computed:n(d({},g(["userToken"])),{url:()=>window.location.href}),methods:n(d({},v(["saveUser"])),{getOauthUser(){let e={code:this.$route.query.code};var t;(t=e,$({url:"/admin/oauthUser",method:"get",params:t})).then((e=>{console.log(e),this.saveUser(e.data),alert(JSON.stringify(e)),this.$router.push("/user")}))}})},Ce={class:"page"},Se={class:"page__hd"},Oe=p("h1",{class:"page__title"},"授权登录回调",-1),Ae=p("p",{class:"page__desc"},"授权登录回调获取code,通过code获取用户信息,可获取信息后自动跳转",-1),je={class:"page__desc"},De={class:"page__bd page__bd_spacing"},Te={class:"weui-flex"},Ve={class:"weui-flex__item"},Me={class:"placeholder"},Ne=p("div",{class:"weui-flex__item"},[p("div",{class:"placeholder"},[p("a",{href:"javascript:"},"文档")])],-1);ke.render=function(e,t,a,i,l,s){return c(),o("div",Ce,[p("div",Se,[Oe,Ae,p("p",je,"当前url: "+w(s.url),1)]),p("div",De,[p("div",Te,[p("div",Ve,[p("div",Me,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.getOauthUser&&s.getOauthUser(...e))},"通过code获取用户")])]),Ne])])])};const Je={name:"SchoolCallback",created(){},computed:n(d({},g(["userToken"])),{url:()=>window.location.href}),methods:n(d({},v(["saveUser"])),{getOauthUser(){let e={code:_e("code")};var t;(t=e,$({url:"/school/oauthUser",method:"get",params:t})).then((e=>{console.log(e),this.saveUser(e.data),this.$router.push("/user"),alert(JSON.stringify(e))}))}})},Le={class:"page"},Pe={class:"page__hd"},Ee=p("h1",{class:"page__title"},"授权登录回调",-1),Re=p("p",{class:"page__desc"},"授权登录回调获取code,通过code获取用户信息,可获取信息后自动跳转",-1),ze={class:"page__desc"},qe={class:"page__bd page__bd_spacing"},Fe={class:"weui-flex"},Be={class:"weui-flex__item"},Qe={class:"placeholder"},$e=p("div",{class:"weui-flex__item"},[p("div",{class:"placeholder"},[p("a",{href:"javascript:"},"文档")])],-1);Je.render=function(e,t,a,i,l,s){return c(),o("div",Le,[p("div",Pe,[Ee,Re,p("p",ze,"当前url: "+w(s.url),1)]),p("div",qe,[p("div",Fe,[p("div",Be,[p("div",Qe,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.getOauthUser&&s.getOauthUser(...e))},"通过code获取用户")])]),$e])])])};const We={name:"SchoolContact",data:()=>({deptPid:"",deptId:0,parentUserid:"",studentUserid:""}),created(){},methods:{getDeptList(){let e={dept_id:this.deptPid};var t;(t=e,$({url:"/school/departmentList",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getDeptUserList(){let e={department_id:this.deptId};var t;(t=e,$({url:"/school/deptUserList",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getDeptUserDetail(){let e={user_id:this.userId};var t;(t=e,$({url:"/school/useDetail",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getSubscribeQr(){var e;(e={},$({url:"/school/subscribeQr",method:"get",params:e})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},sendMsgText(){let e={to_parent_userid:this.parentUserid,to_student_userid:this.studentUserid,text:this.textMsg};var t;(t=e,$({url:"/school/sendText",method:"post",data:t})).then((e=>{}))},sendImage(){let e={to_parent_userid:this.parentUserid,to_student_userid:this.studentUserid,media_id:this.mediaId};var t;(t=e,$({url:"/school/sendImage",method:"post",data:t})).then((e=>{}))}}},Ge={class:"page"},He=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 家校通讯录相关 ")],-1),Xe={class:"page__bd page__bd_spacing"},Ye={class:"weui-flex"},Ke={class:"weui-flex__item"},Ze={class:"placeholder"},et={class:"weui-flex__item"},tt={class:"placeholder"},at={class:"weui-flex"},it={class:"weui-flex__item"},lt={class:"placeholder"},st={class:"weui-flex__item"},rt={class:"placeholder"},dt={class:"weui-flex"},nt={class:"weui-flex__item"},ot={class:"placeholder"},ct={class:"weui-flex__item"},ut={class:"placeholder"},pt={class:"weui-flex"},_t={class:"weui-flex__item"},mt={class:"placeholder"},ht={class:"weui-flex"},gt={class:"weui-flex__item"},vt={class:"placeholder"},wt={class:"weui-flex__item"},ft={class:"placeholder"},bt={class:"weui-flex"},xt={class:"weui-flex__item"},yt={class:"placeholder"},It={class:"weui-flex__item"},Ut={class:"placeholder"},kt={class:"weui-flex"},Ct={class:"weui-flex__item"},St={class:"placeholder"},Ot={class:"weui-flex__item"},At={class:"placeholder"};We.render=function(e,t,a,i,l,s){return c(),o("div",Ge,[He,p("div",Xe,[p("div",Ye,[p("div",Ke,[p("div",Ze,[x(p("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.deptPid=e),placeholder:"输入父级部门id"},null,512),[[y,l.deptPid]])])]),p("div",et,[p("div",tt,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[2]||(t[2]=(...e)=>s.getDeptList&&s.getDeptList(...e))},"获取部门(班级)")])])]),p("div",at,[p("div",it,[p("div",lt,[x(p("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.deptId=e),placeholder:"输入部门id"},null,512),[[y,l.deptId]])])]),p("div",st,[p("div",rt,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[4]||(t[4]=(...e)=>s.getDeptUserList&&s.getDeptUserList(...e))},"获取部门人员（家长及家长下学生）")])])]),p("div",dt,[p("div",nt,[p("div",ot,[x(p("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.userId=t),placeholder:"输入用户id"},null,512),[[y,e.userId]])])]),p("div",ct,[p("div",ut,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[6]||(t[6]=(...e)=>s.getDeptUserDetail&&s.getDeptUserDetail(...e))},"获取学生或家长详情")])])]),p("div",pt,[p("div",_t,[p("div",mt,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[7]||(t[7]=(...e)=>s.getSubscribeQr&&s.getSubscribeQr(...e))},"获取学校通知二维码")])])]),p("div",ht,[p("div",gt,[p("div",vt,[x(p("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.parentUserid=e),placeholder:"输入发送至的to_parent_userid"},null,512),[[y,l.parentUserid]])])]),p("div",wt,[p("div",ft,[x(p("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.studentUserid=e),placeholder:"输入发送至的to_student_userid"},null,512),[[y,l.studentUserid]])])])]),p("div",bt,[p("div",xt,[p("div",yt,[x(p("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.textMsg=t),placeholder:"输入发送的内容"},null,512),[[y,e.textMsg]])])]),p("div",It,[p("div",Ut,[p("a",{class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[11]||(t[11]=(...e)=>s.sendMsgText&&s.sendMsgText(...e))},"学校通知 文本")])])]),p("div",kt,[p("div",Ct,[p("div",St,[x(p("input",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.mediaId=t),placeholder:"输入图片media id"},null,512),[[y,e.mediaId]])])]),p("div",Ot,[p("div",At,[p("a",{class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[13]||(t[13]=(...e)=>s.sendImage&&s.sendImage(...e))},"学校通知 图片")])])])])])};const jt={name:"Demo",created(){},methods:{}},Dt={class:"page"},Tt={class:"page__bd page__bd_spacing"},Vt={class:"weui-flex"},Mt={class:"weui-flex__item"},Nt={class:"placeholder"},Jt=b("应用管理"),Lt={class:"weui-flex"},Pt={class:"weui-flex__item"},Et={class:"placeholder"},Rt=b("通讯录"),zt={class:"weui-flex"},qt={class:"weui-flex__item"},Ft={class:"placeholder"},Bt=b("客户联系"),Qt={class:"weui-flex"},$t={class:"weui-flex__item"},Wt={class:"placeholder"},Gt=b("jssdk"),Ht={class:"weui-flex"},Xt={class:"weui-flex__item"},Yt={class:"placeholder"},Kt=b("素材管理"),Zt={class:"weui-flex"},ea={class:"weui-flex__item"},ta={class:"placeholder"},aa=b("应用消息"),ia={class:"weui-flex"},la={class:"weui-flex__item"},sa={class:"placeholder"},ra=b("OA相关"),da={class:"weui-flex"},na={class:"weui-flex__item"},oa={class:"placeholder"},ca=b("效率工具"),ua={class:"weui-flex"},pa={class:"weui-flex__item"},_a={class:"placeholder"},ma=b("家校沟通"),ha=p("br",null,null,-1),ga=p("br",null,null,-1),va=p("br",null,null,-1),wa=p("br",null,null,-1);function fa(e){return $({url:"/h5/jsSign",method:"get",params:e})}function ba(e){return $({url:"/h5/jsAgentSign",method:"get",params:e})}jt.render=function(e,t,a,i,l,s){const r=u("router-link");return c(),o("div",Dt,[p("div",Tt,[p("div",Vt,[p("div",Mt,[p("div",Nt,[p(r,{to:"/agent",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[Jt])),_:1})])])]),p("div",Lt,[p("div",Pt,[p("div",Et,[p(r,{to:"/contact",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[Rt])),_:1})])])]),p("div",zt,[p("div",qt,[p("div",Ft,[p(r,{to:"/extContact",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[Bt])),_:1})])])]),p("div",Qt,[p("div",$t,[p("div",Wt,[p(r,{to:"/jssdk",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[Gt])),_:1})])])]),p("div",Ht,[p("div",Xt,[p("div",Yt,[p(r,{to:"/media",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[Kt])),_:1})])])]),p("div",Zt,[p("div",ea,[p("div",ta,[p(r,{to:"/message",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[aa])),_:1})])])]),p("div",ia,[p("div",la,[p("div",sa,[p(r,{to:"/oa",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[ra])),_:1})])])]),p("div",da,[p("div",na,[p("div",oa,[p(r,{to:"/eff",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[ca])),_:1})])])]),p("div",ua,[p("div",pa,[p("div",_a,[p(r,{to:"/schoolContact",class:"weui-btn weui-btn_mini weui-btn_primary"},{default:_((()=>[ma])),_:1})])])])]),ha,ga,va,wa])};const xa={name:"Jssdk",created(){this.getJsSign()},methods:{userProfile(){wx.invoke("openUserProfile",{type:1,userid:"LiYueXi"},(function(e){e.err_msg}))},scanQr(){wx.scanQRCode({desc:"scanQRCode desc",needResult:0,scanType:["qrCode","barCode"],success:function(e){},error:function(e){e.errMsg.indexOf("function_not_exist")>0&&alert("版本过低请升级")}})},chooseCus(){wx.invoke("selectExternalContact",{filterType:0},(function(e){"selectExternalContact:ok"==e.err_msg&&(userIds=e.userIds)}))},chooseImg(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],defaultCameraMode:"batch",isSaveToAlbum:1,success:function(e){var t=e.localIds;wx.uploadImage({localId:t[0],isShowProgressTips:1,success:function(e){var t=e.serverId;alert(t)}})}})},shareWx(){wx.invoke("shareWechatMessage",{title:"分享标题",desc:"分享标题",link:"https://www.baidu.com",imgUrl:""},(function(e){e.err_msg}))},chooseUser(){wx.invoke("selectEnterpriseContact",{fromDepartmentId:-1,mode:"multi",type:["department","user"]},(function(e){if("selectEnterpriseContact:ok"==e.err_msg){"string"==typeof e.result&&(e.result=JSON.parse(e.result));for(var t=e.result.departmentList,a=0;a<t.length;a++){var i=t[a];i.id,i.name}var l=e.result.userList;for(a=0;a<l.length;a++){var s=l[a];s.id,s.name,s.avatar}}}))},getJsSign(){let e={url:window.location.href.split("#")[0]};fa(e).then((e=>{wx.config({beta:!0,debug:!0,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["openUserProfile","selectEnterpriseContact","chooseImage","scanQRCode","shareWechatMessage"]})})),wx.ready((function(){ba(e).then((e=>{wx.agentConfig({corpid:e.data.corpId,agentid:e.data.agentId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["selectExternalContact"],success:function(e){console.log(e)},fail:function(e){e.errMsg.indexOf("function not exist")>-1&&alert("版本过低请升级")}})})),wx.checkJsApi({jsApiList:["selectEnterpriseContact","selectExternalContact","chooseImage","scanQRCode","shareWechatMessage"],success:function(e){console.log(e)}})})),wx.error((function(e){}))}}},ya={class:"page"},Ia=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," Jssdk ")],-1),Ua={class:"page__bd page__bd_spacing"},ka={class:"weui-flex"},Ca={class:"weui-flex__item"},Sa={class:"placeholder"},Oa={class:"weui-flex"},Aa={class:"weui-flex__item"},ja={class:"placeholder"};xa.render=function(e,t,a,i,l,s){return c(),o("div",ya,[Ia,p("div",Ua,[p("div",ka,[p("div",Ca,[p("div",Sa,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.userProfile&&s.userProfile(...e))},"个人信息"),p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[2]||(t[2]=(...e)=>s.chooseUser&&s.chooseUser(...e))},"选人"),p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.scanQr&&s.scanQr(...e))},"扫一扫"),p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[4]||(t[4]=(...e)=>s.chooseCus&&s.chooseCus(...e))},"选客户")])])]),p("div",Oa,[p("div",Aa,[p("div",ja,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[5]||(t[5]=(...e)=>s.chooseImg&&s.chooseImg(...e))},"拍照"),p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[6]||(t[6]=(...t)=>e.download&&e.download(...t))},"下载临时素材")])])])])])};const Da={name:"Jssdk",data:()=>({deptId:0,userId:""}),created(){},methods:{getDeptList(){var e;(e={},$({url:"/contact/departmentList",method:"get",params:e})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getDeptUserList(){let e={department_id:this.deptId};var t;(t=e,$({url:"/contact/deptUserList",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getDeptUserDetailList(){let e={department_id:this.deptId};var t;(t=e,$({url:"/contact/deptUserDetailList",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getDeptUserDetail(){let e={user_id:this.userId};var t;(t=e,$({url:"/contact/useDetail",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))}}},Ta={class:"page"},Va=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 通讯录相关 ")],-1),Ma={class:"page__bd page__bd_spacing"},Na={class:"weui-flex"},Ja={class:"weui-flex__item"},La={class:"placeholder"},Pa={class:"weui-flex"},Ea={class:"weui-flex__item"},Ra={class:"placeholder"},za={class:"weui-flex__item"},qa={class:"placeholder"},Fa={class:"weui-flex"},Ba={class:"weui-flex__item"},Qa={class:"placeholder"},$a={class:"weui-flex__item"},Wa={class:"placeholder"},Ga={class:"weui-flex"},Ha={class:"weui-flex__item"},Xa={class:"placeholder"},Ya={class:"weui-flex__item"},Ka={class:"placeholder"};Da.render=function(e,t,a,i,l,s){return c(),o("div",Ta,[Va,p("div",Ma,[p("div",Na,[p("div",Ja,[p("div",La,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.getDeptList&&s.getDeptList(...e))},"获取部门")])])]),p("div",Pa,[p("div",Ea,[p("div",Ra,[x(p("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.deptId=e),placeholder:"输入部门id"},null,512),[[y,l.deptId]])])]),p("div",za,[p("div",qa,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.getDeptUserList&&s.getDeptUserList(...e))},"获取部门人员")])])]),p("div",Fa,[p("div",Ba,[p("div",Qa,[x(p("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.deptId=e),placeholder:"输入部门id"},null,512),[[y,l.deptId]])])]),p("div",$a,[p("div",Wa,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[5]||(t[5]=(...e)=>s.getDeptUserDetailList&&s.getDeptUserDetailList(...e))},"获取部门人员详情")])])]),p("div",Ga,[p("div",Ha,[p("div",Xa,[x(p("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.userId=e),placeholder:"输入用户id"},null,512),[[y,l.userId]])])]),p("div",Ya,[p("div",Ka,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[7]||(t[7]=(...e)=>s.getDeptUserDetail&&s.getDeptUserDetail(...e))},"获取人员详情")])])])])])};const Za={name:"User",computed:n(d({},g(["userToken","userInfo"])),{url:()=>window.location.href,user(){return JSON.stringify(this.userInfo)}}),created(){},methods:{}},ei={class:"page"},ti=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 用户登录信息 ")],-1),ai={class:"page__bd page__bd_spacing"},ii={key:0,class:"weui-flex"},li={class:"weui-flex__item"},si={class:"placeholder"},ri={style:{"word-break":"break-all","white-space":"normal"}},di={key:1,class:"weui-flex"},ni={class:"weui-flex__item"},oi={class:"placeholder"},ci={style:{"word-break":"break-all","white-space":"normal"}};Za.render=function(e,t,a,i,l,s){return c(),o("div",ei,[ti,p("div",ai,[e.userInfo?(c(),o("div",ii,[p("div",li,[p("div",si,[p("div",ri,"登录信息 :"+w(s.user),1)])])])):f("",!0),e.userToken?(c(),o("div",di,[p("div",ni,[p("div",oi,[p("div",ci,"登录信息 :"+w(e.userToken),1)])])])):f("",!0)])])};const ui={name:"Media",data:()=>({file:null,meidaId:""}),created(){},methods:{update(e){this.file=e.target.files[0]},uploadImg(){let e=new FormData;var t;e.append("media",this.file),console.log(e.get("media")),(t=e,$({url:"/media/uploadImg",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},uploadMedia(){let e=new FormData;var t;e.append("media",this.file),console.log(e.get("media")),(t=e,$({url:"/media/upload",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},downloadMedia(){let e="http://apitest.tobdev.com/media/download?corp_id=wwe58c8eb857ded23d&media_id="+this.meidaId;window.open(e)}}},pi={class:"page"},_i=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 素材管理 ")],-1),mi={class:"page__bd page__bd_spacing"},hi={class:"weui-flex"},gi={class:"weui-flex__item"},vi={class:"placeholder"},wi=p("br",null,null,-1),fi={class:"weui-flex__item"},bi={class:"placeholder"},xi={class:"weui-flex"},yi={class:"weui-flex__item"},Ii={class:"placeholder"},Ui=p("br",null,null,-1),ki={class:"weui-flex__item"},Ci={class:"placeholder"},Si={class:"weui-flex"},Oi={class:"weui-flex__item"},Ai={class:"placeholder"},ji={class:"weui-flex__item"},Di={class:"placeholder"};ui.render=function(e,t,a,i,l,s){return c(),o("div",pi,[_i,p("div",mi,[p("div",hi,[p("div",gi,[p("div",vi,[p("input",{type:"file",name:"file",onChange:t[1]||(t[1]=(...e)=>s.update&&s.update(...e))},null,32),wi])]),p("div",fi,[p("div",bi,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[2]||(t[2]=(...e)=>s.uploadMedia&&s.uploadMedia(...e))},"上传临时素材")])])]),p("div",xi,[p("div",yi,[p("div",Ii,[p("input",{type:"file",name:"file",onChange:t[3]||(t[3]=(...e)=>s.update&&s.update(...e))},null,32),Ui])]),p("div",ki,[p("div",Ci,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[4]||(t[4]=(...e)=>s.uploadImg&&s.uploadImg(...e))},"上传照片")])])]),p("div",Si,[p("div",Oi,[p("div",Ai,[x(p("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.meidaId=e),placeholder:"输入media id"},null,512),[[y,l.meidaId]])])]),p("div",ji,[p("div",Di,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[6]||(t[6]=(...e)=>s.downloadMedia&&s.downloadMedia(...e))},"查看素材")])])])])])};const Ti={name:"Message",data:()=>({userId:"",mediaId:"",textMsg:"ToB Dev企业微信开发"}),computed:d({},g(["userInfo"])),created(){this.userInfo&&(this.userId=this.userInfo.userid)},methods:{sendMsgText(){let e={to_user_id:this.userId,text:this.textMsg};var t;(t=e,$({url:"/message/sendtext",method:"post",data:t})).then((e=>{}))},sendImage(){let e={to_user_id:this.userId,media_id:this.mediaId};var t;(t=e,$({url:"/message/sendImage",method:"post",data:t})).then((e=>{}))}}},Vi={class:"page"},Mi=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 应用消息 ")],-1),Ni={class:"page__bd page__bd_spacing"},Ji={class:"weui-flex"},Li={class:"weui-flex__item"},Pi={class:"placeholder"},Ei={class:"weui-flex"},Ri={class:"weui-flex__item"},zi={class:"placeholder"},qi={class:"weui-flex__item"},Fi={class:"placeholder"},Bi={class:"weui-flex"},Qi={class:"weui-flex__item"},$i={class:"placeholder"},Wi={class:"weui-flex__item"},Gi={class:"placeholder"};Ti.render=function(e,t,a,i,l,s){return c(),o("div",Vi,[Mi,p("div",Ni,[p("div",Ji,[p("div",Li,[p("div",Pi,[x(p("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.userId=e),placeholder:"输入发送至的userid"},null,512),[[y,l.userId]])])])]),p("div",Ei,[p("div",Ri,[p("div",zi,[x(p("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.textMsg=e),placeholder:"输入发送的内容"},null,512),[[y,l.textMsg]])])]),p("div",qi,[p("div",Fi,[p("a",{class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.sendMsgText&&s.sendMsgText(...e))},"发送应用消息 文本")])])]),p("div",Bi,[p("div",Qi,[p("div",$i,[x(p("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.mediaId=e),placeholder:"输入图片media id"},null,512),[[y,l.mediaId]])])]),p("div",Wi,[p("div",Gi,[p("a",{class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[5]||(t[5]=(...e)=>s.sendImage&&s.sendImage(...e))},"发送应用消息 图片")])])])])])};const Hi={name:"Agent",data:()=>({agent:null}),created(){},computed:{},methods:{getAgent(){var e;(e={},$({url:"/agent/get",method:"get",params:e})).then((e=>{this.agent=JSON.stringify({name:e.data.name,description:e.data.description})}))},setAgent(){let e=JSON.parse(this.agent);var t;(t=e,$({url:"/agent/set",method:"post",data:t})).then((e=>{alert(JSON.stringify(e))}))}}},Xi={class:"page"},Yi=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 应用管理 ")],-1),Ki={class:"page__bd page__bd_spacing"},Zi={class:"weui-flex"},el={class:"weui-flex__item"},tl={class:"placeholder"},al={class:"weui-flex"},il={class:"weui-flex__item"},ll={class:"placeholder"},sl={class:"weui-flex__item"},rl={class:"placeholder"};Hi.render=function(e,t,a,i,l,s){return c(),o("div",Xi,[Yi,p("div",Ki,[p("div",Zi,[p("div",el,[p("div",tl,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.getAgent&&s.getAgent(...e))},"获取应用信息")])])]),p("div",al,[p("div",il,[p("div",ll,[x(p("textarea",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.agent=e)},null,512),[[y,l.agent]])])]),p("div",sl,[p("div",rl,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.setAgent&&s.setAgent(...e))},"设置应用信息")])])])])])};const dl={name:"Oa",data:()=>({templateId:"",thirdNo:""}),created(){this.getJsSign(),this.initAprroval()},methods:{initAprroval(){var e;(e={},$({url:"/oa/aprrovalFlowInit",method:"get",params:e})).then((e=>{this.templateId=e.data.templateId,this.thirdNo=e.data.thirdNo}))},getAprrovalState(){let e={third_no:this.thirdNo};var t;(t=e,$({url:"/oa/approvalFlowStatus",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},createAprroval(){wx.invoke("thirdPartyOpenPage",{oaType:"10001",templateId:this.templateId,thirdNo:this.thirdNo,extData:{fieldList:[{title:"采购类型",type:"text",value:"市场活动"},{title:"订单链接",type:"link",value:"https://work.weixin.qq.com"}]}},(function(e){console.log(e)}))},getJsSign(){let e={url:window.location.href.split("#")[0]};fa(e).then((e=>{wx.config({beta:!0,debug:!0,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["thirdPartyOpenPage"]})})),wx.ready((function(){ba(e).then((e=>{wx.agentConfig({corpid:e.data.corpId,agentid:e.data.agentId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["thirdPartyOpenPage"],success:function(e){console.log(e)},fail:function(e){e.errMsg.indexOf("function not exist")>-1&&alert("版本过低请升级")}})})),wx.checkJsApi({jsApiList:["thirdPartyOpenPage"],success:function(e){console.log(e)}})})),wx.error((function(e){}))}}},nl={class:"page"},ol=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," Oa ")],-1),cl={class:"page__bd page__bd_spacing"},ul={class:"weui-flex"},pl={class:"weui-flex__item"},_l={class:"placeholder"},ml={class:"weui-flex"},hl={class:"weui-flex__item"},gl={class:"placeholder"},vl={class:"weui-flex__item"},wl={class:"placeholder"};dl.render=function(e,t,a,i,l,s){return c(),o("div",nl,[ol,p("div",cl,[p("div",ul,[p("div",pl,[p("div",_l,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.createAprroval&&s.createAprroval(...e))},"发起审批")])])]),p("div",ml,[p("div",hl,[p("div",gl,[x(p("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.thirdNo=e),placeholder:"输入thirdNo"},null,512),[[y,l.thirdNo]])])]),p("div",vl,[p("div",wl,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.getAprrovalState&&s.getAprrovalState(...e))},"查看审批")])])])])])};const fl={name:"Efficiency",data:()=>({organize_user_id:"",share_user_id_str:"",summary:"",color:"",calendar_id:"",attends_str:"",start_time:parseInt((new Date).getTime()/1e3)+60,schedule_id:"",type:"1",title:"",end_time:parseInt((new Date).getTime()/1e3)+120,duration:"120",metting_id:"",user_id:""}),created(){},methods:{addCalendar(){let e=this.share_user_id_str.split(",").map((function(e,t){let a={};return a.userid=e,a})),t={summary:this.summary,color:this.color,organizer:this.organize_user_id,shares:e};var a;(a=t,$({url:"/eff/addCalendar",method:"post",data:a})).then((e=>{this.calendar_id=e.data.cal_id}))},getCalendar(){let e={calendar_id:this.calendar_id};var t;(t=e,$({url:"/eff/getCalendar",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},addSchedule(){let e=this.attends_str.split(",").map((function(e,t){let a={};return a.userid=e,a})),t={start_time:this.start_time,end_time:this.end_time,summary:this.summary,calendar_id:this.calendar_id,organize_user_id:this.organize_user_id,attends:e};var a;(a=t,$({url:"/eff/addSchedule",method:"post",data:a})).then((e=>{this.schedule_id=e.data.schedule_id}))},getScheduleList(){let e={calendar_id:this.calendar_id};var t;(t=e,$({url:"/eff/getScheduleList",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getSchedule(){let e={schedule_id:this.schedule_id};var t;(t=e,$({url:"/eff/getSchedule",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},addMeeting(){let e=this.attends_str.split(",").map((function(e,t){return e})),t={start_time:this.start_time,duration:this.duration,title:this.title,type:this.type,organize_user_id:this.organize_user_id,attends:e};var a;(a=t,$({url:"/eff/addMeeting",method:"post",data:a})).then((e=>{this.metting_id=e.data.meetingid}))},getMeetingDetail(){let e={metting_id:this.metting_id};var t;(t=e,$({url:"/eff/getMeetingDetail",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getUserMeeting(){let e={user_id:this.user_id};var t;(t=e,$({url:"/eff/getUserMeeting",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))}}},bl={class:"page"},xl=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 效率工具 ")],-1),yl={class:"page__bd page__bd_spacing"},Il={class:"weui-flex"},Ul={class:"weui-flex__item"},kl={class:"placeholder"},Cl={class:"weui-flex__item"},Sl={class:"placeholder"},Ol={class:"weui-flex"},Al={class:"weui-flex__item"},jl={class:"placeholder"},Dl={class:"weui-flex__item"},Tl={class:"placeholder"},Vl={class:"weui-flex"},Ml={class:"weui-flex__item"},Nl={class:"placeholder"},Jl={class:"weui-flex__item"},Ll={class:"placeholder"},Pl={class:"weui-flex"},El={class:"weui-flex__item"},Rl={class:"placeholder"},zl={class:"weui-flex__item"},ql={class:"placeholder"},Fl={class:"weui-flex"},Bl={class:"weui-flex__item"},Ql={class:"placeholder"},$l={class:"weui-flex__item"},Wl={class:"placeholder"},Gl={class:"weui-flex"},Hl={class:"weui-flex__item"},Xl={class:"placeholder"},Yl={class:"weui-flex__item"},Kl={class:"placeholder"},Zl={class:"weui-flex"},es={class:"weui-flex__item"},ts={class:"placeholder"},as={class:"weui-flex__item"},is={class:"placeholder"};fl.render=function(e,t,a,i,l,s){return c(),o("div",bl,[xl,p("div",yl,[p("div",Il,[p("div",Ul,[p("div",kl,[x(p("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.organize_user_id=e),placeholder:"组织者"},null,512),[[y,l.organize_user_id]]),x(p("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.summary=e),placeholder:"日历简介"},null,512),[[y,l.summary]]),x(p("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.color=e),placeholder:"日历颜色"},null,512),[[y,l.color]]),x(p("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.share_user_id_str=e),placeholder:"日历共享成员"},null,512),[[y,l.share_user_id_str]])])]),p("div",Cl,[p("div",Sl,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[5]||(t[5]=(...e)=>s.addCalendar&&s.addCalendar(...e))},"创建日历")])])]),p("div",Ol,[p("div",Al,[p("div",jl,[x(p("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.calendar_id=e),placeholder:"日历id"},null,512),[[y,l.calendar_id]])])]),p("div",Dl,[p("div",Tl,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[7]||(t[7]=(...e)=>s.getCalendar&&s.getCalendar(...e))},"获取日历详情")])])]),p("div",Vl,[p("div",Ml,[p("div",Nl,[x(p("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.calendar_id=e),placeholder:"日历id"},null,512),[[y,l.calendar_id]])])]),p("div",Jl,[p("div",Ll,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[9]||(t[9]=(...e)=>s.getScheduleList&&s.getScheduleList(...e))},"获取日历下的日程列表")])])]),p("div",Pl,[p("div",El,[p("div",Rl,[x(p("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.calendar_id=e),placeholder:"日历id"},null,512),[[y,l.calendar_id]]),x(p("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.organize_user_id=e),placeholder:"日程组织者"},null,512),[[y,l.organize_user_id]]),x(p("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.summary=e),placeholder:"日程简介"},null,512),[[y,l.summary]]),x(p("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.attends_str=e),placeholder:"日程参与者"},null,512),[[y,l.attends_str]]),x(p("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.start_time=e),placeholder:"开始时间"},null,512),[[y,l.start_time]]),x(p("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>l.end_time=e),placeholder:"结束时间"},null,512),[[y,l.end_time]])])]),p("div",zl,[p("div",ql,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[16]||(t[16]=(...e)=>s.addSchedule&&s.addSchedule(...e))},"创建日程")])])]),p("div",Fl,[p("div",Bl,[p("div",Ql,[x(p("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>l.schedule_id=e),placeholder:"日程id"},null,512),[[y,l.schedule_id]])])]),p("div",$l,[p("div",Wl,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[18]||(t[18]=(...e)=>s.getSchedule&&s.getSchedule(...e))},"获取日程详情")])])]),p("div",Gl,[p("div",Hl,[p("div",Xl,[x(p("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>l.type=e),placeholder:"会议类型"},null,512),[[y,l.type]]),x(p("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>l.organize_user_id=e),placeholder:"日程组织者"},null,512),[[y,l.organize_user_id]]),x(p("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>l.title=e),placeholder:"会议标题"},null,512),[[y,l.title]]),x(p("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>l.start_time=e),placeholder:"会议开始时间"},null,512),[[y,l.start_time]]),x(p("input",{"onUpdate:modelValue":t[23]||(t[23]=e=>l.duration=e),placeholder:"会议时长"},null,512),[[y,l.duration]]),x(p("input",{"onUpdate:modelValue":t[24]||(t[24]=e=>l.attends_str=e),placeholder:"会议参与者"},null,512),[[y,l.attends_str]])])]),p("div",Yl,[p("div",Kl,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[25]||(t[25]=(...e)=>s.addMeeting&&s.addMeeting(...e))},"添加会议")])])]),p("div",Zl,[p("div",es,[p("div",ts,[x(p("input",{"onUpdate:modelValue":t[26]||(t[26]=e=>l.metting_id=e),placeholder:"会议id"},null,512),[[y,l.metting_id]]),x(p("input",{"onUpdate:modelValue":t[27]||(t[27]=e=>l.user_id=e),placeholder:"用户id"},null,512),[[y,l.user_id]])])]),p("div",as,[p("div",is,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[28]||(t[28]=(...e)=>s.getMeetingDetail&&s.getMeetingDetail(...e))},"获取会议详情"),p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[29]||(t[29]=(...e)=>s.getUserMeeting&&s.getUserMeeting(...e))},"获取会议详情")])])])])])};const ls={name:"ExtContact",data:()=>({userId:"",extUserId:"",chatId:"",text:""}),created(){},methods:{followUserList(){var e;(e={},$({url:"/extcontact/followUserList",method:"get",params:e})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},list(){let e={user_id:this.userId};var t;(t=e,$({url:"/extcontact/list",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},detail(){let e={ext_userid:this.extUserId};var t;(t=e,$({url:"/extcontact/detail",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},groupChatlist(){let e={user_id:this.userId};var t;(t=e,$({url:"/extcontact/groupChatlist",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},groupChatDetail(){let e={chat_id:this.chatId};var t;(t=e,$({url:"/extcontact/groupChatDetail",method:"get",params:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},sendWelcomeMs(){let e={user_id:this.userId};groupCsendWelcomeMshatlist(e).then((e=>{console.log(e),alert(JSON.stringify(e))}))},addMsgTemplatea(){let e={user_id:this.userId,ext_userid:this.extUserId,text:this.text};var t;(t=e,$({url:"/extcontact/addMsgTemplatea",method:"post",data:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))}}},ss={class:"page"},rs=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 通讯录相关 ")],-1),ds={class:"page__bd page__bd_spacing"},ns={class:"weui-flex"},os={class:"weui-flex__item"},cs={class:"placeholder"},us={class:"weui-flex"},ps={class:"weui-flex__item"},_s={class:"placeholder"},ms={class:"weui-flex__item"},hs={class:"placeholder"},gs={class:"weui-flex"},vs={class:"weui-flex__item"},ws={class:"placeholder"},fs={class:"weui-flex__item"},bs={class:"placeholder"},xs={class:"weui-flex"},ys={class:"weui-flex__item"},Is={class:"placeholder"},Us={class:"weui-flex__item"},ks={class:"placeholder"},Cs={class:"weui-flex"},Ss={class:"weui-flex__item"},Os={class:"placeholder"},As={class:"weui-flex__item"},js={class:"placeholder"},Ds={class:"weui-flex"},Ts={class:"weui-flex__item"},Vs={class:"placeholder"},Ms={class:"weui-flex__item"},Ns={class:"placeholder"};ls.render=function(e,t,a,i,l,s){return c(),o("div",ss,[rs,p("div",ds,[p("div",ns,[p("div",os,[p("div",cs,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[1]||(t[1]=(...e)=>s.followUserList&&s.followUserList(...e))},"获取配置客户功能员工列表")])])]),p("div",us,[p("div",ps,[p("div",_s,[x(p("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.userId=e),placeholder:"输入成员id"},null,512),[[y,l.userId]])])]),p("div",ms,[p("div",hs,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.list&&s.list(...e))},"获取某员工客户列表")])])]),p("div",gs,[p("div",vs,[p("div",ws,[x(p("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.extUserId=e),placeholder:"输入客户id"},null,512),[[y,l.extUserId]])])]),p("div",fs,[p("div",bs,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[5]||(t[5]=(...e)=>s.detail&&s.detail(...e))},"获取客户详情")])])]),p("div",xs,[p("div",ys,[p("div",Is,[x(p("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.userId=e),placeholder:"输入成员id"},null,512),[[y,l.userId]])])]),p("div",Us,[p("div",ks,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[7]||(t[7]=(...e)=>s.groupChatlist&&s.groupChatlist(...e))},"获取客户聊天群列表")])])]),p("div",Cs,[p("div",Ss,[p("div",Os,[x(p("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.chatId=e),placeholder:"输入聊天群id"},null,512),[[y,l.chatId]])])]),p("div",As,[p("div",js,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[9]||(t[9]=(...e)=>s.groupChatDetail&&s.groupChatDetail(...e))},"取客户聊天群详情")])])]),p("div",Ds,[p("div",Ts,[p("div",Vs,[x(p("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.userId=e),placeholder:"输入成员id"},null,512),[[y,l.userId]]),x(p("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.extUserId=e),placeholder:"输入客户id"},null,512),[[y,l.extUserId]]),x(p("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.text=e),placeholder:"输入文本"},null,512),[[y,l.text]])])]),p("div",Ms,[p("div",Ns,[p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[13]||(t[13]=(...e)=>s.addMsgTemplatea&&s.addMsgTemplatea(...e))},"发送企业消息")])])])])])};const Js={name:"TobDev",data:()=>({api_env:1,api_url:"",corp_id:"",agent_id:"",agent_secret:"",file:""}),computed:{url:()=>window.location.href},created(){this.api_url=""==F.getApiUrl()?"http://apitest.tobdev.com":F.getApiUrl(),this.corp_id=""==F.getCorpId()?"wwe58c8eb857ded23d":F.getCorpId(),this.agent_id=F.getAgentId(),this.agent_secret=F.getAgentSecret(),alert(_e("corp_id")),_e("corp_id")&&this.getAndSet(_e("corp_id"))},methods:{save(){F.storeApiUrl(this.api_url)},verify(){h.get(this.api_url+"/tobdev/verify").then((e=>{console.log(e.data),alert(JSON.stringify(e.data))}))},getAndSet(e){let t={corp_id:e};var a;F.storeCorpId(e),(a=t,$({url:"/tobdev/get",method:"get",params:a})).then((e=>{console.log(e),alert(JSON.stringify(e)),F.storeAgentId(e.data.agentId),F.storeAgentSecret(e.data.agentSecret)}))},set(){F.storeCorpId(this.corp_id),F.storeAgentId(this.agent_id),F.storeAgentSecret(this.agent_secret);let e={corp_id:this.corp_id,agent_id:this.agent_id,agent_secret:this.agent_secret};var t;(t=e,$({url:"/tobdev/set",method:"post",data:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},verifyFile(){let e=new FormData;var t;e.append("file",this.file),(t=e,$({url:"/tobdev/verifyFile",method:"post",data:t})).then((e=>{console.log(e),alert(JSON.stringify(e))}))},getFile:function(e){this.file=e.target.files[0],console.log(this.file)}}},Ls=C("data-v-770b9455");I("data-v-770b9455");const Ps={class:"page"},Es=p("div",{class:"page__hd"},[p("h1",{class:"page__title"}," 设置应用信息 本地 ")],-1),Rs={class:"page__bd page__bd_spacing"},zs=p("a",{href:"https://open.work.weixin.qq.com/wwopen/sso/3rd_qrConnect?appid=ww7505f7b629ddfb25&redirect_uri=https%3A%2F%2Ftestcrm.judianren.cn&state=test&usertype=admin",target:"_blank"}," xxxxxx ",-1),qs={class:"weui-flex"},Fs={class:"weui-flex__item"},Bs={class:"placeholder"},Qs=b(" 第一步 后端api地址设置： "),$s=p("br",null,null,-1),Ws=b(" 如http://apitest.tobdev.com"),Gs=p("br",null,null,-1),Hs=b(" 地址可带端口如:9900结束请勿加/"),Xs=p("br",null,null,-1),Ys=b(" 保存时后端url会保存在当前浏览器 "),Ks=p("br",null,null,-1),Zs=b(" 前端所有api请求都会请求到后端url"),er=p("br",null,null,-1),tr=p("option",{value:"1"},"ToB Dev 官方线上后端",-1),ar=p("option",{value:"2"}," 自有运行ToB Dev后端",-1),ir=b(),lr=p("br",null,null,-1),sr=b(),rr=p("br",null,null,-1),dr=b(),nr=p("br",null,null,-1),or={class:"weui-flex"},cr={class:"weui-flex__item"},ur={class:"placeholder"},pr=b(" 第二步 应用设置： "),_r=p("br",null,null,-1),mr=b(" 保存时corp_id会保存在当前浏览器"),hr=p("br",null,null,-1),gr=b("前端所有请求都会带上保存时corp_id为参数 "),vr=p("br",null,null,-1),wr=b("并且对应配置会提交到后端api保存到数据库 "),fr=p("br",null,null,-1),br=b(),xr=p("br",null,null,-1),yr=b(),Ir=p("br",null,null,-1),Ur=b(),kr=p("br",null,null,-1),Cr={class:"weui-flex"},Sr={class:"weui-flex__item"},Or={class:"placeholder"},Ar=p("br",null,null,-1),jr=p("br",null,null,-1),Dr=b("如果前端环境为ToB Dev官方需要上传"),Tr=p("br",null,null,-1),Vr=b("如果前端环境是自有运行ToB Dev前端"),Mr=p("br",null,null,-1),Nr=b("请自己在公网做好验证"),Jr=p("br",null,null,-1);U();const Lr=Ls(((e,t,a,i,l,s)=>(c(),o("div",Ps,[Es,p("div",Rs,[zs,p("div",qs,[p("div",Fs,[p("div",Bs,[Qs,$s,Ws,Gs,Hs,Xs,Ys,Ks,Zs,er,x(p("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.api_env=e)},[tr,ar],512),[[k,l.api_env]]),ir,lr,x(p("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.api_url=e),placeholder:"输入后端api地址"},null,512),[[y,l.api_url]]),sr,rr,p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[3]||(t[3]=(...e)=>s.verify&&s.verify(...e))},"验证后端api"),dr,nr,p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[4]||(t[4]=(...e)=>s.save&&s.save(...e))},"保存后端api设置")])])]),p("div",or,[p("div",cr,[p("div",ur,[pr,_r,mr,hr,gr,vr,wr,fr,x(p("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.corp_id=e),placeholder:"输入企业corp_id"},null,512),[[y,l.corp_id]]),br,xr,x(p("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.agent_id=e),placeholder:"输入应用agent_id"},null,512),[[y,l.agent_id]]),yr,Ir,x(p("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.agent_secret=e),placeholder:"输入应用secret"},null,512),[[y,l.agent_secret]]),Ur,kr,p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[8]||(t[8]=(...e)=>s.set&&s.set(...e))},"保存应用设置")])])]),p("div",Cr,[p("div",Sr,[p("div",Or,[p("input",{type:"file",onChange:t[9]||(t[9]=e=>s.getFile(e))},null,32),Ar,p("a",{href:"javascript:",class:"weui-btn weui-btn_mini weui-btn_primary",onClick:t[10]||(t[10]=(...e)=>s.verifyFile&&s.verifyFile(...e))},"上传Oauth及jssdk验证文件"),jr,Dr,Tr,Vr,Mr,Nr,Jr])])])])]))));Js.render=Lr,Js.__scopeId="data-v-770b9455";const Pr=[{path:"/",component:L,redirect:"/tobdev",name:"/",meta:{title:"ToB Dev"},children:[{path:"auth",name:"Auth",component:W,meta:{title:"登录",keepAlive:!0}},{path:"callback",name:"Callback",component:me,meta:{title:"登录",keepAlive:!0}},{path:"adminCallback",name:"AdminCallback",component:ke,meta:{title:"登录",keepAlive:!0}},{path:"schoolCallback",name:"SchoolCallback",component:Je,meta:{title:"登录",keepAlive:!0}},{path:"demo",name:"Demo",component:jt,meta:{title:"demo",keepAlive:!0}},{path:"contact",name:"Contact",component:Da,meta:{title:"contact",keepAlive:!0}},{path:"jssdk",name:"Jssdk",component:xa,meta:{title:"jssdk",keepAlive:!0}},{path:"media",name:"Media",component:ui,meta:{title:"media",keepAlive:!0}},{path:"message",name:"Message",component:Ti,meta:{title:"Message",keepAlive:!0}},{path:"agent",name:"Agent",component:Hi,meta:{title:"agent",keepAlive:!0}},{path:"extContact",name:"ExtContact",component:ls,meta:{title:"extContact",keepAlive:!0}},{path:"schoolContact",name:"SchoolContact",component:We,meta:{title:"schoolContact",keepAlive:!0}},{path:"oa",name:"Oa",component:dl,meta:{title:"oa",keepAlive:!0}},{path:"eff",name:"Eff",component:fl,meta:{title:"oa",keepAlive:!0}},{path:"user",name:"User",component:Za,meta:{title:"我的",keepAlive:!0}},{path:"tobdev",name:"TobDev",component:Js,meta:{title:"ToB Dev",keepAlive:!0}}]}],Er=S({history:O(),routes:Pr});Er.beforeEach(((e,t,a)=>{e.path,a()}));const Rr=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${""===F()?{}.import.meta.env.VITE_CORP_ID:F()}&redirect_uri=${encodeURIComponent(window.location.href.split("#")[0])}&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect`,zr=function(e){const t=window.location.search.split("?")[1];return new URLSearchParams(t).get(e)}("code");var qr;zr?(qr=zr,$({url:"/contact/useDetail",method:"get",params:qr})).then((()=>{!async function(){const e=A(j);e.use(Er),e.use(z),e.mount("#app")}()})).catch((()=>{})):window.location.replace(Rr);
//# sourceMappingURL=index.7a533ff6.js.map
